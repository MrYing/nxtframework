(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12cb1889"],{c705:function(e,t,a){},d15c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"homePage"===e.showPage,expression:"showPage === 'homePage'"}]},[a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"font-weight":"800"}},[e._v("\n          操作提示：\n        ")]),e._v(" "),a("el-row",[e._v("\n          1、订单列表，可查看订单详情、费用、对应商品、发货状态、物流信息等。\n        ")]),e._v(" "),a("el-row",[e._v("\n          2、可在订单详情里面“打印订单”。\n        ")]),e._v(" "),a("el-row",[e._v("\n          3、可在订单详情里面填写发货信息，进行发货。\n        ")])],1),e._v(" "),a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:18,offset:7}},[a("el-date-picker",{attrs:{type:"date","picker-options":e.beginDateAfter,format:"yyyy-MM-dd",placeholder:"请输入开始日期",clearable:!0},model:{value:e.starDate,callback:function(t){e.starDate=t},expression:"starDate"}}),e._v(" "),a("span",{staticClass:"date-in"},[e._v("~")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","picker-options":e.beginDateBefore,placeholder:"请输入结束时间",clearable:!0},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}}),e._v(" "),a("el-select",{attrs:{placeholder:"支付状态",clearable:!0},model:{value:e.searchBean.isPaid,callback:function(t){e.$set(e.searchBean,"isPaid",t)},expression:"searchBean.isPaid"}},e._l(e.payList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-select",{attrs:{placeholder:"发货状态",clearable:!0},model:{value:e.searchBean.isDelivery,callback:function(t){e.$set(e.searchBean,"isDelivery",t)},expression:"searchBean.isDelivery"}},e._l(e.deliveryList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-select",{attrs:{placeholder:"成交终端",clearable:!0},model:{value:e.searchBean.dealPlatform,callback:function(t){e.$set(e.searchBean,"dealPlatform",t)},expression:"searchBean.dealPlatform"}},e._l(e.platformList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchAction}},[e._v("筛选")])],1)],1),e._v(" "),a("el-card",{staticStyle:{margin:"10px 10px"}},[a("el-row",{staticStyle:{"font-weight":"800"}},[a("el-col",{attrs:{span:4,offset:1}},[a("span",[e._v("商品信息")])]),e._v(" "),a("el-col",{attrs:{span:2}},[a("span",[e._v("商品清单")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("span",[e._v("订单总金额")])]),e._v(" "),a("el-col",{attrs:{span:2}},[a("span",[e._v("收货人")])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("收货信息")])]),e._v(" "),a("el-col",{attrs:{span:2}},[a("span",[e._v("交易状态")])]),e._v(" "),a("el-col",{attrs:{span:2}},[a("span",[e._v("操作")])])],1)],1),e._v(" "),e._l(e.listData,(function(t){return a("el-card",{staticStyle:{margin:"10px 10px 0 10px","min-height":"100px"}},[a("el-row",[a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:4}},[a("span",[e._v("下单时间："+e._s(t.datelineCreateReadable))])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("span",[e._v("订单编号："+e._s(t.serialNum))])]),e._v(" "),a("el-divider")],1),e._v(" "),a("el-row",{staticStyle:{margin:"10px 10px 0 0"},attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:6}},e._l(t.orderFormProductList,(function(t){return a("el-row",[a("el-col",{attrs:{span:20}},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:6,offset:1}},[a("el-image",{staticClass:"brandImg",attrs:{src:t.picUrl}})],1),e._v(" "),a("el-col",{attrs:{span:18,offset:1}},[a("span",[e._v("\n                        "+e._s(t.productName)+"\n                      ")]),e._v(" "),a("div",[a("span",[e._v("规格：")]),e._v(" "),e._l(t.productSku,(function(t){return a("span",[e._v(" "+e._s(t.skuKeyName)+"/"+e._s(t.skuValueName))])}))],2)])],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("span",[e._v("¥"+e._s(t.productPrice))]),e._v(" "),a("span",[e._v("/件")])])],1)],1)})),1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-row",{staticStyle:{"text-align":"center"}},[e._v("¥"+e._s(t.amountFinally))]),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[e._v("（运费：¥"+e._s(t.deliveryCost)+"）")]),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[e._v("成交终端："+e._s(t.dealPlatform))])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-row",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.deliveryPerson))])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-row",{staticStyle:{"text-align":"left"}},[e._v(e._s(t.deliveryPerson))]),e._v(" "),a("el-row",{staticStyle:{"text-align":"left"}},[e._v("电话："+e._s(t.deliveryPhone))]),e._v(" "),a("el-row",{staticStyle:{"text-align":"left"}},[e._v("地址："+e._s(t.deliveryCountry)+e._s(t.deliveryProvince)+e._s(t.deliveryCity)+e._s(t.deliveryAddress))])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-row",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.deliveryConfigName))])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-row",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.paid?"已付款":"未付款"))]),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.delivery?"已发货":"未发货"))]),e._v(" "),a("el-row",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.done?"已完成":"未完成"))])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showDetail(t)}}},[e._v("查看详情")])],1)],1)],1)})),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{offset:18}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){return e.handlePage(-1)}}},[e._v("上一页")]),e._v(" "),a("el-button",[e._v(e._s(e.searchBean.listNumber)+" / "+e._s(e.pageCount))]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right"},on:{click:function(t){return e.handlePage(1)}}},[e._v("下一页")])],1)],1)],2)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"editorPage"===e.showPage,expression:"showPage === 'editorPage'"}]},[a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"font-weight":"800"}},[e._v("\n          操作提示：\n        ")]),e._v(" "),a("el-row",[e._v("\n          1、订单列表，可查看订单详情、费用、对应商品、发货状态、物流信息等。\n        ")]),e._v(" "),a("el-row",[e._v("\n          2、可在订单详情里面“打印订单”。\n        ")]),e._v(" "),a("el-row",[e._v("\n          3、可在订单详情里面填写发货信息，进行发货。\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:e.showListPag}},[e._v("返回")])],1),e._v(" "),a("el-col",{attrs:{span:2,offset:9}},[a("el-button",{attrs:{type:"primary"},on:{click:e.printOrder}},[e._v("打印订单")])],1)],1),e._v(" "),a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[e._v("\n          基本信息\n        ")]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            订单编号："+e._s(e.detailData.serialNum)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            会员ID："+e._s(e.detailData.username)+"\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            成交平台："+e._s(e.detailData.dealPlatform)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            下单时间："+e._s(e.detailData.datelineCreateReadable)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            付款时间："+e._s(null!=e.detailData.datelinePaidReadable?e.detailData.datelinePaidReadable:"- -")+"\n          ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n            收货信息\n          ")]),e._v(" "),a("el-col",{attrs:{span:2,offset:20}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.modifyAddress(e.detailData)}}},[e._v("修改收货信息")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            收货人："+e._s(e.detailData.deliveryPerson)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            联系方式："+e._s(e.detailData.deliveryPhone)+"\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:1}},[e._v("\n            收货地址："+e._s(e.detailData.deliveryCountry)+e._s(e.detailData.deliveryProvince)+e._s(e.detailData.deliveryCity)+e._s(e.detailData.deliveryAddress)+"\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            邮编："+e._s(e.detailData.deliveryPostcode)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            留言："+e._s(e.detailData.deliveryRemark)+"\n          ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n            商品信息\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22,offset:1}},[a("el-table",{ref:"multipleTable",attrs:{data:e.detailData.orderFormProductList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"productId",label:"货号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"brandImg",attrs:{src:t.row.picUrl}}),e._v(" "),a("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"规格"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.productSku,(function(t){return a("span",[e._v(e._s(t.skuValueName)+" ")])}))}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"商品价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPrice)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"成交价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPriceDeal-t.row.manualPriceDiscount)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"付款价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPriceDeal)+" ")])]}}])})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:20}},[e._v("\n            订单总额：¥ "+e._s(e.detailData.amountFinally)+"\n          ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n            费用信息\n          ")]),e._v(" "),a("el-col",{attrs:{span:2,offset:20}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.adjustPrice(e.detailData)}}},[e._v("调整价格")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            总计: "+e._s(e.detailData.amountInitial)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            运费： "+e._s(e.detailData.deliveryCost+e.detailData.manualDeliveryCostDiscount)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            运费调整： "+e._s(e.detailData.manualDeliveryCostDiscount)+"\n          ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n            价格调整:  "+e._s(e.detailData.manualPriceDiscount)+"\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n            总计应付： "+e._s(e.detailData.amountFinally)+"\n          ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n            操作信息\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:1,offset:1}},[e._v("\n            操作备注\n          ")]),e._v(" "),a("el-col",{attrs:{span:21}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",type:"textarea",placeholder:"请输入内容",maxlength:"30","show-word-limit":""},model:{value:e.detailData.deliveryRemark,callback:function(t){e.$set(e.detailData,"deliveryRemark",t)},expression:"detailData.deliveryRemark"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2,offset:2}},[e.detailData.delivery?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.deliveryAction(e.detailData.id)}}},[e._v("发货")])],1),e._v(" "),a("el-col",{attrs:{span:2,offset:2}},[e.detailData.delivery?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.modifyChangeFast(e.detailData)}}},[e._v("修改快递信息")]):e._e()],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n            操作记录\n          ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22,offset:1}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2,offset:1}},[e._v("\n            商家内入订单备注\n          ")]),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"30","show-word-limit":""},model:{value:e.detailData.sellerRemark,callback:function(t){e.$set(e.detailData,"sellerRemark",t)},expression:"detailData.sellerRemark"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2,offset:3}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateAction(e.detailData)}}},[e._v("更新")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"价格调整",visible:e.priceDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"500px",center:""},on:{"update:visible":function(t){e.priceDialog=t}}},[a("el-form",{ref:"dialogRef",attrs:{model:e.priceParam,rules:e.priceParamRules,"label-width":e.formLabelWidth}},[a("el-form-item",{attrs:{label:"商品总价",prop:"amountInitial"}},[a("span",[e._v(e._s(e.priceParam.amountInitial))])]),e._v(" "),a("el-form-item",{attrs:{label:"运费",prop:"deliveryCost"}},[a("span",[e._v(e._s(e.priceParam.deliveryCost))])]),e._v(" "),a("el-form-item",{attrs:{label:"运费调整",prop:"manualDeliveryCostDiscount"}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.priceParam.manualDeliveryCostDiscount,callback:function(t){e.$set(e.priceParam,"manualDeliveryCostDiscount",t)},expression:"priceParam.manualDeliveryCostDiscount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"价格微调",prop:"manualAmountDiscount"}},[a("el-input-number",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.priceParam.manualAmountDiscount,callback:function(t){e.$set(e.priceParam,"manualAmountDiscount",t)},expression:"priceParam.manualAmountDiscount"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-left":"120px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.savePrice}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.priceDialog=!1}}},[e._v("取 消")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"30px","margin-top":"20px",color:"red"}},[e._v("\n          请输入要调整的金额, 正数价格上调, 负数价格下调, 0维持原价\n        ")])],1),e._v(" "),a("el-dialog",{attrs:{title:"发货信息",visible:e.deliveryDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"500px",center:""},on:{"update:visible":function(t){e.deliveryDialog=t}}},[a("el-form",{ref:"deliveryRef",attrs:{model:e.deliveryParam,rules:e.deliveryParamRules,"label-width":e.formLabelWidth}},[a("el-form-item",{attrs:{label:"物流公司",prop:"deliveryCompanyId"}},[a("el-select",{attrs:{placeholder:"--请选择--"},model:{value:e.deliveryParam.deliveryCompanyId,callback:function(t){e.$set(e.deliveryParam,"deliveryCompanyId",t)},expression:"deliveryParam.deliveryCompanyId"}},e._l(e.$store.state.delivery.deliveryCompanyList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v("\n                "+e._s(t.name)+"\n              ")])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"快递单号",prop:"deliverySerialNum"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.deliveryParam.deliverySerialNum,callback:function(t){e.$set(e.deliveryParam,"deliverySerialNum",t)},expression:"deliveryParam.deliverySerialNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",controls:!1},model:{value:e.deliveryParam.remark,callback:function(t){e.$set(e.deliveryParam,"remark",t)},expression:"deliveryParam.remark"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-left":"120px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveDelivery}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.deliveryDialog=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改收货地址",visible:e.addressDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"500px",center:""},on:{"update:visible":function(t){e.addressDialog=t}}},[a("el-form",{ref:"addressRef",attrs:{model:e.addressParam,rules:e.addressParamRules,"label-width":e.formLabelWidth}},[a("el-form-item",{attrs:{label:"收货人",prop:"deliveryPerson"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.addressParam.deliveryPerson,callback:function(t){e.$set(e.addressParam,"deliveryPerson",t)},expression:"addressParam.deliveryPerson"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"deliveryPhone"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.addressParam.deliveryPhone,callback:function(t){e.$set(e.addressParam,"deliveryPhone",t)},expression:"addressParam.deliveryPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮编",prop:"deliveryPostcode"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.addressParam.deliveryPostcode,callback:function(t){e.$set(e.addressParam,"deliveryPostcode",t)},expression:"addressParam.deliveryPostcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"国家",prop:""}},[a("el-select",{attrs:{placeholder:"- 选择国家（不选不改） -",clearable:""},on:{change:e.getProvinceList},model:{value:e.addressParam.deliveryCountry,callback:function(t){e.$set(e.addressParam,"deliveryCountry",t)},expression:"addressParam.deliveryCountry"}},e._l(e.countryList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.regionName,value:t.id}},[e._v("\n                "+e._s(t.regionName)+"\n              ")])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"省份",prop:""}},[a("el-select",{attrs:{placeholder:"- 选择省份（不选不改） -",clearable:""},on:{change:e.getCityList},model:{value:e.addressParam.deliveryProvince,callback:function(t){e.$set(e.addressParam,"deliveryProvince",t)},expression:"addressParam.deliveryProvince"}},e._l(e.provinceList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.regionName,value:t.id}},[e._v("\n                "+e._s(t.regionName)+"\n              ")])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"城市",prop:""}},[a("el-select",{attrs:{placeholder:"- 选择城市（不选不改） -",clearable:""},model:{value:e.addressParam.deliveryCity,callback:function(t){e.$set(e.addressParam,"deliveryCity",t)},expression:"addressParam.deliveryCity"}},e._l(e.cityList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.regionName,value:t.id}},[e._v("\n                "+e._s(t.regionName)+"\n              ")])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"deliveryAddress"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",controls:!1},model:{value:e.addressParam.deliveryAddress,callback:function(t){e.$set(e.addressParam,"deliveryAddress",t)},expression:"addressParam.deliveryAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"deliveryRemark"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.addressParam.deliveryRemark,callback:function(t){e.$set(e.addressParam,"deliveryRemark",t)},expression:"addressParam.deliveryRemark"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-left":"120px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddress}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.addressDialog=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"printPage"===e.showPage,expression:"showPage === 'printPage'"}]},[a("div",{attrs:{id:"printTest"}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:6,offset:10}},[a("h1",[e._v("订单信息")])])],1),e._v(" "),a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[e._v("\n            基本信息\n          ")]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:1}},[e._v("\n              订单编号："+e._s(e.detailData.serialNum)+"\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              会员ID："+e._s(e.detailData.username)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              成交平台："+e._s(e.detailData.dealPlatform)+"\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:8,offset:1}},[e._v("\n              下单时间："+e._s(e.detailData.datelineCreateReadable)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[e._v("\n              付款时间："+e._s(null!=e.detailData.datelinePaidReadable?e.detailData.datelinePaidReadable:"- -")+"\n            ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n              收货信息\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              收货人："+e._s(e.detailData.deliveryPerson)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n              联系方式："+e._s(e.detailData.deliveryPhone)+"\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:1}},[e._v("\n              收货地址："+e._s(e.detailData.deliveryCountry)+e._s(e.detailData.deliveryProvince)+e._s(e.detailData.deliveryCity)+e._s(e.detailData.deliveryAddress)+"\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              邮编："+e._s(e.detailData.deliveryPostcode)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:8,offset:2}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              留言："+e._s(e.detailData.deliveryRemark)+"\n            ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n              商品信息\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22,offset:1}},[a("el-table",{ref:"multipleTable",attrs:{data:e.detailData.orderFormProductList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"productId",label:"货号",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"商品信息",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"brandImg",attrs:{src:t.row.picUrl}}),e._v(" "),a("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"规格",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.productSku,(function(t){return a("span",[e._v(e._s(t.skuValueName)+" ")])}))}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"数量",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"商品价格",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPrice)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"成交价",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPriceDeal-t.row.manualPriceDiscount)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"付款价",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPriceDeal)+" ")])]}}])}),e._v(" "),a("el-table-column")],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:8,offset:18}},[e._v("\n              订单总额：¥ "+e._s(e.detailData.amountFinally)+"\n            ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n              费用信息\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              总计: "+e._s(e.detailData.amountInitial)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n              运费： "+e._s(e.detailData.deliveryCost+e.detailData.manualDeliveryCostDiscount)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n              运费调整： "+e._s(e.detailData.manualDeliveryCostDiscount)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n              价格调整:  "+e._s(e.detailData.manualPriceDiscount)+"\n            ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n              总计应付： "+e._s(e.detailData.amountFinally)+"\n            ")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"no-print",staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2,offset:9}},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printTest",expression:"'#printTest'"}],attrs:{type:"primary"}},[e._v("打印")])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:function(t){return e.showEditorPag(e.detailData)}}},[e._v("返回")])],1)],1)],1)])},l=[],s=(a("f576"),a("a481"),a("3b2b"),a("6b54"),{data:function(){var e=this,t=function(e,t,a){null==t||0===t.length?a(new Error("物流公司不能为空")):a()},a=function(e,t,a){null==t||0===t.length?a(new Error("快递单号不能为空")):a()},r=function(e,t,a){null==t||0===t.length?a(new Error("收货人不能为空")):a()},l=function(e,t,a){null==t||0===t.length?a(new Error("手机不能为空")):a()},s=function(e,t,a){null==t||0===t.length?a(new Error("邮编不能为空")):a()},i=function(e,t,a){null==t||0===t.length?a(new Error("内部地址不能为空")):a()},n=function(e,t,a){null==t||0===t.length?a(new Error("备注不能为空")):a()};return{searchBean:{offset:0,limit:10,listNumber:1},payList:[{value:!0,label:"已支付"},{value:!1,label:"未支付"}],deliveryList:[{value:!0,label:"已发货"},{value:!1,label:"未发货"}],platformList:[{value:0,label:"web"},{value:1,label:"ios"},{value:2,label:"android"},{value:3,label:"wx"}],starDate:new Date((new Date).getTime()-432e6),endDate:new Date,beginDateAfter:{disabledDate:function(t){return t.getTime()>Date.now()||t.getTime()>e.endDate}},beginDateBefore:{disabledDate:function(t){return t.getTime()>Date.now()||e.starDate>t.getTime()}},listData:[],pageCount:0,showPage:"homePage",detailData:{},priceParam:{},priceDialog:!1,priceParamRules:{},formLabelWidth:"140px",deliveryParam:{},deliveryDialog:!1,deliveryParamRules:{deliveryCompanyId:[{required:!0,trigger:"blur",validator:t}],deliverySerialNum:[{required:!0,trigger:"blur",validator:a}]},addressParam:{},countryList:[],provinceList:[],cityList:[],addressDialog:!1,addressParamRules:{deliveryPerson:[{required:!0,trigger:"blur",validator:r}],deliveryPhone:[{required:!0,trigger:"blur",validator:l}],deliveryPostcode:[{required:!0,trigger:"blur",validator:s}],deliveryAddress:[{required:!0,trigger:"blur",validator:i}],deliveryRemark:[{required:!0,trigger:"blur",validator:n}]}}},computed:{},created:function(){},mounted:function(){this.searchDate(),this.$store.dispatch("delivery/getDeliveryCompanyList"),this.$store.dispatch("orderForm/getFreightList"),this.getCountryList()},methods:{searchAction:function(){this.$set(this.searchBean,"offset",0),this.$set(this.searchBean,"listNumber",1),this.searchDate()},searchDate:function(){var e=this;this.$myLoading.myLoading.loading(),null!=this.starDate?this.searchBean.datelineBegin=this.dateFormat("YYYY-mm-dd",this.starDate):this.searchBean.datelineBegin=null,null!=this.endDate?this.searchBean.datelineEnd=this.dateFormat("YYYY-mm-dd",this.endDate):this.searchBean.datelineEnd=null,null!=this.searchBean.isPaid&&""===this.searchBean.isPaid&&(this.searchBean.isPaid=null),null!=this.searchBean.isDelivery&&""===this.searchBean.isDelivery&&(this.searchBean.isDelivery=null),null!=this.searchBean.dealPlatform&&""===this.searchBean.dealPlatform&&(this.searchBean.dealPlatform=null),this.$store.dispatch("orderForm/searchListData",this.searchBean).then((function(){e.listData=e.$store.state.orderForm.listData,e.pageCount=Math.ceil(e.$store.state.orderForm.countData/e.searchBean.limit);var t=e;t.$myLoading.myLoading.closeLoading()}))},dateFormat:function(e,t){var a,r={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var l in r)a=new RegExp("("+l+")").exec(e),a&&(e=e.replace(a[1],1===a[1].length?r[l]:r[l].padStart(a[1].length,"0")));return e},handlePage:function(e){if(this.searchBean.listNumber+e<1||this.searchBean.listNumber+e>this.pageCount)return!1;this.searchBean.listNumber=this.searchBean.listNumber+e,this.searchBean.offset=(this.searchBean.listNumber-1)*this.searchBean.limit,this.searchDate()},showDetail:function(e){this.showDetailInterface(e.id),this.showPage="editorPage"},showDetailInterface:function(e){var t=this;this.$store.dispatch("orderForm/searchDetailData",{id:e}).then((function(){t.detailData=t.$store.state.orderForm.detailData;var e=0;if(null!=t.detailData){var a=t.detailData.orderFormProductList;if(null!=a&&a.length>0)for(var r in a)e+=a[r].manualPriceDiscount}e=e.toFixed(2),t.detailData.manualPriceDiscount=e}))},showListPag:function(){this.showPage="homePage"},showEditorPag:function(e){this.showDetailInterface(e.id),this.showPage="editorPage"},printOrder:function(){this.showPage="printPage"},modifyAddress:function(e){this.addressParam={},this.$set(this.addressParam,"id",e.id),this.$set(this.addressParam,"deliveryCountry",null),this.$set(this.addressParam,"deliveryProvince",null),this.$set(this.addressParam,"deliveryCity",null),this.$set(this.addressParam,"deliveryAddress",e.deliveryAddress),this.$set(this.addressParam,"deliveryPerson",e.deliveryPerson),this.$set(this.addressParam,"deliveryPhone",e.deliveryPhone),this.$set(this.addressParam,"deliveryPostcode",e.deliveryPostcode),this.$set(this.addressParam,"deliveryRemark",e.deliveryRemark),this.$set(this.addressParam,"deliveryConfigId",null),this.addressDialog=!0,this.resetForm("addressRef")},getDeliveryList:function(e,t){var a=this,r={parentId:e};this.$store.dispatch("orderForm/getDeliveryList",r).then((function(){a.$store.state.orderForm.deliveryList}))},getCountryList:function(){var e=this;this.countryList=[],this.$store.dispatch("orderForm/getDeliveryList",{parentId:0}).then((function(){e.countryList=e.$store.state.orderForm.deliveryList}))},getProvinceList:function(){var e=this;this.provinceList=[],this.cityList=[],this.addressParam.deliveryProvince=null,this.addressParam.deliveryCity=null,null!=this.addressParam.deliveryCountry&&""!==this.addressParam.deliveryCountry&&this.$store.dispatch("orderForm/getDeliveryList",{parentId:this.addressParam.deliveryCountry}).then((function(){e.provinceList=e.$store.state.orderForm.deliveryList}))},getCityList:function(){var e=this;this.cityList=[],this.addressParam.deliveryCity=null,null!=this.addressParam.deliveryProvince&&""!==this.addressParam.deliveryProvince&&this.$store.dispatch("orderForm/getDeliveryList",{parentId:this.addressParam.deliveryProvince}).then((function(){e.cityList=e.$store.state.orderForm.deliveryList}))},saveAddress:function(){var e=this;this.$refs.addressRef.validate((function(t){t&&e.$store.dispatch("orderForm/updateAddress",e.addressParam).then((function(){var t=e.$store.state.orderForm.updateAddressStatus;null!=t&&0===t?(e.$message({type:"success",message:"操作成功"}),e.showDetailInterface(e.addressParam.id),e.addressDialog=!1):e.$message({type:"error",message:"操作失败"})}))}))},adjustPrice:function(e){this.priceParam={},this.priceParam.id=e.id,this.priceParam.amountInitial=e.amountInitial,this.priceParam.deliveryCost=e.deliveryCost,this.$set(this.priceParam,"manualDeliveryCostDiscount",0),null!=e.manualDeliveryCostDiscount&&(this.priceParam.manualDeliveryCostDiscount=e.manualDeliveryCostDiscount),this.$set(this.priceParam,"manualAmountDiscount",0),null!=e.manualPriceDiscount&&this.$set(this.priceParam,"manualAmountDiscount",e.manualPriceDiscount),this.priceDialog=!0},deliveryAction:function(e){this.deliveryParam={},this.deliveryParam.id=e,this.deliveryDialog=!0,this.resetForm("deliveryRef")},saveDelivery:function(){var e=this;this.$refs.deliveryRef.validate((function(t){t&&e.$store.dispatch("orderForm/updateDelivery",e.deliveryParam).then((function(){var t=e.$store.state.orderForm.updateDeliveryStatus;null!=t&&0===t?(e.$message({type:"success",message:"操作成功"}),e.closePriceDialog(),e.showDetailInterface(e.deliveryParam.id),e.deliveryDialog=!1):e.$message({type:"error",message:"操作失败"})}))}))},unDeliveryAction:function(){},modifyChangeFast:function(e){this.deliveryParam={},this.$set(this.deliveryParam,"id",e.orderFormDelivery.orderFormId),this.$set(this.deliveryParam,"deliveryCompanyId",e.orderFormDelivery.deliveryCompanyId),this.$set(this.deliveryParam,"deliverySerialNum",e.orderFormDelivery.deliverySerialNum),this.$set(this.deliveryParam,"remark",e.deliveryRemark),this.deliveryDialog=!0,this.resetForm("deliveryRef")},updateAction:function(e){var t=this,a={id:e.id,remark:e.sellerRemark};this.$store.dispatch("orderForm/updateRemark",a).then((function(){var a=t.$store.state.orderForm.updateRemarkStatus;null!=a&&0===a?(t.$message({type:"success",message:"更新成功"}),t.showDetailInterface(e.id)):t.$message({type:"error",message:"更新失败"})}))},closePriceDialog:function(){this.priceDialog=!1},savePrice:function(){var e=this;this.$store.dispatch("orderForm/updatePrice",this.priceParam).then((function(){var t=e.$store.state.orderForm.updatePriceStatus;null!=t&&0===t?(e.$message({type:"success",message:"调整成功"}),e.closePriceDialog(),e.showDetailInterface(e.priceParam.id)):e.$message({type:"error",message:"调整失败"})}))},resetForm:function(e){null!=this.$refs[e]&&this.$refs[e].resetFields()}}}),i=s,n=(a("d2e5"),a("2877")),o=Object(n["a"])(i,r,l,!1,null,null,null);t["default"]=o.exports},d2e5:function(e,t,a){"use strict";a("c705")}}]);