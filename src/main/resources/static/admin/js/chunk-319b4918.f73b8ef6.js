(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-319b4918"],{"74fc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"homePage"===e.showPage,expression:"showPage === 'homePage'"}]},[a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"font-weight":"800"}},[e._v("\n        操作提示：\n      ")]),e._v(" "),a("el-row",[e._v("\n        1、用户已经付款，然后再申请“取消订单”，会出现在这里；无论有没有发货。\n      ")]),e._v(" "),a("el-row",[e._v("\n        2、可以在这里根据情况，同意或拒绝退款申请。\n      ")]),e._v(" "),a("el-row",[e._v("\n        3、同意退款后，金额退到用户余额。然后用户在个人中心申请提现。\n      ")])],1),e._v(" "),a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:15}},[a("el-select",{attrs:{placeholder:"处理状态",clearable:!0},model:{value:e.searchBean.status,callback:function(t){e.$set(e.searchBean,"status",t)},expression:"searchBean.status"}},e._l(e.statusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"用户名",maxlength:"30"},model:{value:e.searchBean.username,callback:function(t){e.$set(e.searchBean,"username",t)},expression:"searchBean.username"}}),e._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"订单编号",maxlength:"30"},model:{value:e.searchBean.orderFormSerialNum,callback:function(t){e.$set(e.searchBean,"orderFormSerialNum",t)},expression:"searchBean.orderFormSerialNum"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchDate}},[e._v("筛选")])],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:e.listData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"orderFormSerialNum",label:"订单号",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"datelineCreateReadable",label:"售后申请时间",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deliveryPhone",label:"收货人电话",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amountFinally",label:"订单总金额",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amountRefundTotal",label:"申请退款金额",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusText",label:"处理状态",height:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作","show-overflow-tooltip":"","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showDetail(t.row)}}},[e._v("查看处理")])]}}])})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{offset:18}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){return e.handlePage(-1)}}},[e._v("上一页")]),e._v(" "),a("el-button",[e._v(e._s(e.searchBean.listNumber)+" / "+e._s(e.pageCount))]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right"},on:{click:function(t){return e.handlePage(1)}}},[e._v("下一页")])],1)],1)],1)],1),e._v(" "),"editorPage"===e.showPage?a("div",[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[a("el-button",{on:{click:e.showListPag}},[e._v("返回")])],1)],1),e._v(" "),a("el-card",{staticClass:"operatingHints"},[a("el-row",{staticStyle:{"margin-top":"10px"}},[e._v("\n        基本信息\n      ")]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          订单编号："+e._s(e.detailData.orderFormDetail.serialNum)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          会员ID："+e._s(e.detailData.orderFormDetail.username)+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          成交平台："+e._s(e.detailData.orderFormDetail.dealPlatform)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          下单时间："+e._s(e.detailData.orderFormDetail.datelineCreateReadable)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          付款时间："+e._s(null!=e.detailData.orderFormDetail.datelinePaidReadable?e.detailData.orderFormDetail.datelinePaidReadable:"- -")+"\n        ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n          收货信息\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          收货人："+e._s(e.detailData.orderFormDetail.deliveryPerson)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          联系方式："+e._s(e.detailData.orderFormDetail.deliveryPhone)+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{offset:1}},[e._v("\n          收货地址："+e._s(e.detailData.orderFormDetail.deliveryCountry)+e._s(e.detailData.orderFormDetail.deliveryProvince)+e._s(e.detailData.orderFormDetail.deliveryCity)+e._s(e.detailData.orderFormDetail.deliveryAddress)+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          邮编："+e._s(e.detailData.orderFormDetail.deliveryPostcode)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          配送方式："+e._s(e.detailData.orderFormDetail.deliveryConfigName)+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          留言："+e._s(e.detailData.orderFormDetail.deliveryRemark)+"\n        ")])],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n          商品信息\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:22,offset:1}},[a("el-table",{ref:"multipleTable",attrs:{data:e.detailData.orderFormRefundDetail.orderFormRefundProductList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"orderFormProductId",label:"货号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"brandImg",attrs:{src:t.row.picUrl}}),e._v(" "),a("span",[e._v(e._s(t.row.productName))])]}}],null,!1,4169103547)}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"规格"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.sku,(function(t){return a("span",[e._v(e._s(t.skuValueName)+" ")])}))}}],null,!1,1880108537)}),e._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"退货数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"成交单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.productPriceDeal)+" ")])]}}],null,!1,1353175337)}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"退款总额"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.changAmountRefund?e._e():a("span",[e._v("￥"+e._s(t.row.amountRefund)+" ")]),e._v(" "),t.row.changAmountRefund?a("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1},model:{value:t.row.amountRefund,callback:function(a){e.$set(t.row,"amountRefund",a)},expression:"scope.row.amountRefund"}}):e._e(),e._v(" "),a("el-button",{attrs:{icon:t.row.changAmountRefund?"el-icon-check":"el-icon-edit",size:"mini"},on:{click:function(a){return e.changAmountRefundAction(t.row)}}})]}}],null,!1,1165838608)})],1)],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n          退货退款信息\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          当前状态： "+e._s(e.detailData.orderFormRefundDetail.statusText)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          申请原因："+e._s(e.detailData.orderFormRefundDetail.reasonTypeText)+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          申请时间："+e._s(e.detailData.orderFormRefundDetail.datelineCreateReadable)+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n          退货快递："+e._s(null!=e.detailData.orderFormRefundDetail.deliveryCompanyName?e.detailData.orderFormRefundDetail.deliveryCompanyName:"- -")+"\n        ")]),e._v(" "),a("el-col",{attrs:{span:4,offset:2}},[e._v("\n          退货快递单号："+e._s(null!=e.detailData.orderFormRefundDetail.deliverySerialNum?e.detailData.orderFormRefundDetail.deliverySerialNum:"- -")+"\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:1,offset:1}},[e._v("\n          留言：\n        ")]),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",type:"textarea"},model:{value:e.detailData.orderFormRefundDetail.reasionDescription,callback:function(t){e.$set(e.detailData.orderFormRefundDetail,"reasionDescription",t)},expression:"detailData.orderFormRefundDetail.reasionDescription"}}),e._v(" "),e._l(e.detailData.orderFormRefundDetail.reasonImageList,(function(e){return a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e,"preview-src-list":[e]}})}))],2)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:2}},[e._v("\n          退货退款处理\n        ")])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:1,offset:1}},[e._v("\n          审核意见\n        ")]),e._v(" "),a("el-col",{attrs:{span:20}},e._l(e.auditStatus,(function(t){return a("el-radio",{attrs:{label:t.value},on:{change:e.statusCheck},model:{value:e.approvalData.status,callback:function(t){e.$set(e.approvalData,"status",t)},expression:"approvalData.status"}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:1,offset:1}},[e._v("\n          处理备注\n        ")]),e._v(" "),a("el-col",{attrs:{span:21}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"这里可以填写拒绝退款原因、退货地址等信息。"},model:{value:e.approvalData.remark,callback:function(t){e.$set(e.approvalData,"remark",t)},expression:"approvalData.remark"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:1,offset:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.approvalAction}},[e._v("确定")])],1),e._v(" "),a("el-col",{attrs:{span:1}},[3===e.approvalData.status||4===e.approvalData.status?a("el-checkbox",{model:{value:e.approvalData.refundDeliveryCost,callback:function(t){e.$set(e.approvalData,"refundDeliveryCost",t)},expression:"approvalData.refundDeliveryCost"}},[e._v("退运费")]):e._e()],1)],1)],1)],1):e._e()])},l=[],o={data:function(){return{searchBean:{offset:0,limit:10,listNumber:1},statusList:[{value:-1,label:"拒绝退款"},{value:0,label:"已申请"},{value:1,label:"完成"},{value:2,label:"等用户发货"},{value:3,label:"收到货退款"},{value:4,label:"收到货有问题，请修改金额"},{value:5,label:"用户已寄出物品"}],auditStatus:[{value:-1,label:"拒绝退款"},{value:2,label:"同意退货，等待用户发货 "},{value:3,label:"收到货退款"},{value:4,label:"直接退款"}],listData:[],pageCount:0,showPage:"homePage",detailData:{},approvalData:{}}},computed:{},created:function(){},mounted:function(){this.searchDate()},methods:{searchDate:function(){var e=this;this.$myLoading.myLoading.loading(),null!=this.searchBean.status&&""===this.searchBean.status&&(this.searchBean.status=null),null!=this.searchBean.username&&""===this.searchBean.username&&(this.searchBean.username=null),null!=this.searchBean.orderFormSerialNum&&""===this.searchBean.orderFormSerialNum&&(this.searchBean.orderFormSerialNum=null),this.$store.dispatch("orderFormRefund/searchListData",this.searchBean).then((function(){e.listData=e.$store.state.orderFormRefund.listData,e.pageCount=Math.ceil(e.$store.state.orderFormRefund.countData/e.searchBean.limit);var t=e;t.$myLoading.myLoading.closeLoading()}))},handlePage:function(e){if(this.searchBean.listNumber+e<1||this.searchBean.listNumber+e>this.pageCount)return!1;this.searchBean.listNumber=this.searchBean.listNumber+e,this.searchBean.offset=(this.searchBean.listNumber-1)*this.searchBean.limit,this.searchDate()},showListPag:function(){this.showPage="homePage",this.searchDate()},showDetail:function(e){var t=this;this.detailData={},this.approvalData={},this.$store.dispatch("orderFormRefund/searchDetailData",{id:e.id}).then((function(){if(t.detailData=t.$store.state.orderFormRefund.detailData,null!=t.detailData.orderFormRefundDetail.orderFormRefundProductList&&t.detailData.orderFormRefundDetail.orderFormRefundProductList.length>0)for(var e in t.detailData.orderFormRefundDetail.orderFormRefundProductList)t.$set(t.detailData.orderFormRefundDetail.orderFormRefundProductList[e],"changAmountRefund",!1);t.showPage="editorPage"}))},changAmountRefundAction:function(e){this.$set(e,"changAmountRefund",!e.changAmountRefund)},statusCheck:function(){3!==this.approvalData.status&&4!==this.approvalData.status&&this.$set(this.approvalData,"refundDeliveryCost",!1)},approvalAction:function(){var e=this;if(this.approvalData.id=this.detailData.orderFormRefundDetail.id,this.approvalData.refundAmountList=[],null!=this.detailData.orderFormRefundDetail.orderFormRefundProductList&&this.detailData.orderFormRefundDetail.orderFormRefundProductList.length>0)for(var t in this.detailData.orderFormRefundDetail.orderFormRefundProductList){var a={orderFromRefundProductId:this.detailData.orderFormRefundDetail.orderFormRefundProductList[t].orderFormProductId,orderFromRefundProductAmount:this.detailData.orderFormRefundDetail.orderFormRefundProductList[t].amountRefund};this.approvalData.refundAmountList.push(a)}this.$store.dispatch("orderFormRefund/updateAddress",this.approvalData).then((function(){var t=e.$store.state.orderFormRefund.orderRefundApprovalStatus;null!=t&&0===t?e.$message({type:"success",message:"审核成功"}):e.$message({type:"error",message:"审核失败"})}))}}},s=o,n=(a("b60c"),a("2877")),i=Object(n["a"])(s,r,l,!1,null,null,null);t["default"]=i.exports},"97c5":function(e,t,a){},b60c:function(e,t,a){"use strict";a("97c5")}}]);