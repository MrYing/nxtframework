(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b64a9"],{"1d11":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","min-height":"300px","margin-bottom":"20px"},attrs:{data:e.ListData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.messageDatelineReadable))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"messageContent",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"guestName",label:"联系人","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"row-bg",staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){return e.handlePage(-1)}}},[e._v("上一页")]),e._v(" "),a("el-button",[e._v(e._s(e.page_number))]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right"},on:{click:function(t){return e.handlePage(1)}}},[e._v("下一页")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"留言人"}},[a("span",[e._v(e._s(e.form.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("span",[e._v(e._s(e.form.link))])]),e._v(" "),a("el-form-item",{attrs:{label:"内容"}},[a("span",[e._v(e._s(e.form.content))])]),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("span",[e._v(e._s(e.form.date))])])],1)],1)],1)},l=[],i=(a("96cf"),a("3b8d")),s=(a("ac6a"),{data:function(){return{tableData:[{date:"2016-05-03 19:23",title:"测试内容",kind:"Linand"}],dialogVisible:!1,multipleSelection:[],form:{name:"Linda",link:"188888888",content:"测试测试测试测试测试测试",date:"2020-07-24 19:45"},page_number:1}},computed:{ListData:function(){return this.$store.state.message.ListData}},created:function(){this.load()},methods:{load:function(){this.$store.dispatch("message/getList",this.page_number)},handlePage:function(e){if(this.page_number+e<1)return!1;this.page_number=this.page_number+e,this.load()},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){console.log(e),console.log(t),this.form.name=t.guestName,this.form.link=t.guestPhone,this.form.content=t.messageContent,this.form.date=t.messageDatelineReadable,this.dialogVisible=!0},handleDelete:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.multipleSelection,a=0;case 2:if(!(a<t.length)){e.next=8;break}return e.next=5,this.$store.dispatch("message/deleteMessage",t[a].id);case 5:a++,e.next=2;break;case 8:this.$message({message:"删除成功！",type:"success"}),this.load();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),o=s,r=a("2877"),c=Object(r["a"])(o,n,l,!1,null,null,null);t["default"]=c.exports}}]);