(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-149b6526"],{"210d":function(e,a,t){},"8d8e":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-card",{staticClass:"operatingHints"},[t("el-row",{staticStyle:{"font-weight":"800"}},[e._v("\n      操作提示：\n    ")]),e._v(" "),t("el-row",[e._v("\n      1、会员管理，这里可以查看会员资料、修改会员密码。\n    ")]),e._v(" "),t("el-row",[e._v("\n      2、筛选栏可以指定条件筛选会员列表。\n    ")]),e._v(" "),t("el-row",[e._v("\n      3、分销是很实用的一个功能，下家每消费一笔，推荐人都会有佣金。\n    ")])],1),e._v(" "),t("el-card",{staticClass:"operatingHints"},[t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{offset:8}},[t("el-select",{attrs:{placeholder:"会员等级",clearable:""},model:{value:e.searchBean.levelNum,callback:function(a){e.$set(e.searchBean,"levelNum",a)},expression:"searchBean.levelNum"}},e._l(e.$store.state.memberLevel.listData,(function(a){return t("el-option",{key:a.levelNum,attrs:{label:a.levelName,value:a.levelNum}},[e._v("\n            "+e._s(a.levelName)+"\n          ")])})),1),e._v(" "),t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"会员ID"},model:{value:e.searchBean.userId,callback:function(a){e.$set(e.searchBean,"userId",a)},expression:"searchBean.userId"}}),e._v(" "),t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"会员昵称"},model:{value:e.searchBean.username,callback:function(a){e.$set(e.searchBean,"username",a)},expression:"searchBean.username"}}),e._v(" "),t("el-date-picker",{attrs:{type:"date","picker-options":e.beginDateAfter,format:"yyyy-MM-dd",placeholder:"注册开始时间",clearable:!0},model:{value:e.starDate,callback:function(a){e.starDate=a},expression:"starDate"}}),e._v(" "),t("span",{staticClass:"date-in"},[e._v("~")]),e._v(" "),t("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","picker-options":e.beginDateBefore,placeholder:"注册结束时间",clearable:!0},model:{value:e.endDate,callback:function(a){e.endDate=a},expression:"endDate"}}),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.searchAction}},[e._v("筛选")])],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-table",{ref:"multipleTable",attrs:{data:e.listData,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"userId",label:"ID",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"username",label:"用户名",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"levelName",label:"等级",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",label:"手机号",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"datelineRegisterReadable",label:"注册时间",height:"30px",width:"220px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"statusText",label:"状态",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"inviteesCount",label:"下家数量",height:"30px",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"",label:"操作","show-overflow-tooltip":"","header-align":"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showBasicData(a.row)}}},[e._v("基本资料")]),e._v(" "),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showAddressDetail(a.row)}}},[e._v("收货地址")]),e._v(" "),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showBalance(a.row)}}},[e._v("资金管理")]),e._v(" "),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showCmmission(a.row)}}},[e._v("分销管理")])]}}])})],1)],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-col",{attrs:{offset:18}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(a){return e.handlePage(-1)}}},[e._v("上一页")]),e._v(" "),t("el-button",[e._v(e._s(e.searchBean.listNumber)+" / "+e._s(e.pageCount))]),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-right"},on:{click:function(a){return e.handlePage(1)}}},[e._v("下一页")])],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"基本信息",visible:e.memberInfoDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"500px",center:""},on:{"update:visible":function(a){e.memberInfoDialog=a}}},[t("el-form",{ref:"dialogRef",attrs:{model:e.memberInfoParam,rules:e.memberInfoParamRules,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("span",[e._v(e._s(e.memberInfoParam.username))])]),e._v(" "),t("el-form-item",{attrs:{label:"会员等级",prop:"levelNum"}},[t("el-select",{attrs:{placeholder:"--请选择--",clearable:""},model:{value:e.memberInfoParam.levelNum,callback:function(a){e.$set(e.memberInfoParam,"levelNum",a)},expression:"memberInfoParam.levelNum"}},e._l(e.$store.state.memberLevel.listData,(function(a){return t("el-option",{key:a.levelNum,attrs:{label:a.levelName,value:a.levelNum}},[e._v("\n            "+e._s(a.levelName)+"\n          ")])})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.memberInfoParam.phone,callback:function(a){e.$set(e.memberInfoParam,"phone",a)},expression:"memberInfoParam.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.memberInfoParam.email,callback:function(a){e.$set(e.memberInfoParam,"email",a)},expression:"memberInfoParam.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1,"show-password":"",autocomplete:"new-password"},model:{value:e.memberInfoParam.newPwd,callback:function(a){e.$set(e.memberInfoParam,"newPwd",a)},expression:"memberInfoParam.newPwd"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"confirm"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{controls:!1,"show-password":""},model:{value:e.memberInfoParam.confirm,callback:function(a){e.$set(e.memberInfoParam,"confirm",a)},expression:"memberInfoParam.confirm"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t("el-radio-group",{model:{value:e.memberInfoParam.gender,callback:function(a){e.$set(e.memberInfoParam,"gender",a)},expression:"memberInfoParam.gender"}},[t("el-radio",{attrs:{label:0}},[e._v("保密")]),e._v(" "),t("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"注册时间",prop:"datelineRegisterReadable"}},[t("span",[e._v(e._s(e.memberInfoParam.datelineRegisterReadable))])]),e._v(" "),t("el-form-item",{attrs:{label:"拉黑会员",prop:"block"}},[t("el-switch",{model:{value:e.memberInfoParam.block,callback:function(a){e.$set(e.memberInfoParam,"block",a)},expression:"memberInfoParam.block"}})],1)],1),e._v(" "),t("div",{staticStyle:{"margin-left":"120px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveMemberInfo}},[e._v("确 定")]),e._v(" "),t("el-button",{on:{click:function(a){e.memberInfoDialog=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"收货地址",visible:e.addressDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"800px",center:""},on:{"update:visible":function(a){e.addressDialog=a}}},[t("el-table",{ref:"multipleTable",attrs:{data:e.addressParam,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"deliveryPerson",label:"收货人",height:"30px",width:"120px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"deliveryPhone",label:"联系方式",height:"30px",width:"200px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"deliveryPostcode",label:"邮编",height:"30px",width:"120px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"",label:"地址",height:"30px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.regionCountryName)+e._s(a.row.regionProvinceName)+e._s(a.row.regionCityName)+e._s(a.row.deliveryAddress))])]}}])})],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{on:{click:function(a){e.addressDialog=!1}}},[e._v("关闭")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"收货地址",visible:e.balanceDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"600px",center:""},on:{"update:visible":function(a){e.balanceDialog=a}}},[t("el-form",{ref:"balanceRef",attrs:{model:e.balanceParam,rules:e.balanceParamRules,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("span",[e._v(e._s(e.balanceParam.username))])]),e._v(" "),t("el-form-item",{attrs:{label:"会员余额",prop:"balance"}},[t("span",[e._v(e._s(e.balanceParam.balance))])]),e._v(" "),t("el-form-item",{attrs:{label:"增减资",prop:"amount"}},[t("el-input-number",{staticStyle:{width:"200px"},attrs:{controls:!1},model:{value:e.balanceParam.amount,callback:function(a){e.$set(e.balanceParam,"amount",a)},expression:"balanceParam.amount"}}),e._v(" "),t("span",[e._v("（正数增加，负数减少）")])],1),e._v(" "),t("el-form-item",{attrs:{label:"操作备注",prop:"remark"}},[t("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",controls:!1,"show-password":"",autocomplete:"new-password"},model:{value:e.balanceParam.remark,callback:function(a){e.$set(e.balanceParam,"remark",a)},expression:"balanceParam.remark"}})],1)],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveBalance}},[e._v("确 定")]),e._v(" "),t("el-button",{on:{click:function(a){e.balanceDialog=!1}}},[e._v("取 消")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"分销管理",visible:e.cmmissionDialog,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1,width:"600px",center:""},on:{"update:visible":function(a){e.cmmissionDialog=a}}},[t("el-form",{ref:"cmmissioneRef",attrs:{model:e.cmmissionParam,rules:e.cmmissionParamRules,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("span",[e._v(e._s(e.cmmissionParam.username))])]),e._v(" "),t("el-form-item",{attrs:{label:"分销功能",prop:"canInvite"}},[t("el-switch",{model:{value:e.cmmissionParam.canInvite,callback:function(a){e.$set(e.cmmissionParam,"canInvite",a)},expression:"cmmissionParam.canInvite"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"推荐人",prop:"inviterUsername"}},[t("el-input",{staticStyle:{width:"200px"},model:{value:e.cmmissionParam.inviterUsername,callback:function(a){e.$set(e.cmmissionParam,"inviterUsername",a)},expression:"cmmissionParam.inviterUsername"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"下家数",prop:"inviteesCount"}},[t("span",[e._v(e._s(e.cmmissionParam.inviteesCount))])])],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveCmmission}},[e._v("更新")]),e._v(" "),t("el-button",{on:{click:function(a){e.cmmissionDialog=!1}}},[e._v("取 消")])],1)],1)],1)},l=[],s=(t("f576"),t("a481"),t("3b2b"),t("6b54"),{data:function(){var e=this,a=function(e,a,t){null==a||0===a.length?t(new Error("增减资不能为空")):t()},t=function(e,a,t){null==a||0===a.length?t(new Error("推荐人不能为空")):t()};return{searchBean:{offset:0,limit:10,listNumber:1},starDate:null,endDate:null,beginDateAfter:{disabledDate:function(a){return(a.getTime()>Date.now()||null!=e.endDate)&&a.getTime()>e.endDate}},beginDateBefore:{disabledDate:function(a){return a.getTime()>Date.now()||e.starDate>a.getTime()}},listData:[],pageCount:0,memberInfoDialog:!1,memberInfoParam:{},memberInfoParamRules:{},addressDialog:!1,addressParam:[],balanceDialog:!1,balanceParam:{},balanceParamRules:{amount:[{required:!0,trigger:"blur",validator:a}]},cmmissionDialog:!1,cmmissionParam:{},cmmissionParamRules:{inviterUsername:[{required:!0,trigger:"blur",validator:t}]}}},computed:{},created:function(){},mounted:function(){this.searchDate(),this.$store.dispatch("memberLevel/searchListData")},methods:{searchAction:function(){this.$set(this.searchBean,"offset",0),this.$set(this.searchBean,"listNumber",1),this.searchDate()},searchDate:function(){var e=this;this.$myLoading.myLoading.loading(),null!=this.starDate?this.searchBean.datelineRegisterBegin=this.dateFormat("YYYY-mm-dd",this.starDate):this.searchBean.datelineRegisterBegin=null,null!=this.endDate?this.searchBean.datelineRegisterEnd=this.dateFormat("YYYY-mm-dd",this.endDate):this.searchBean.datelineRegisterEnd=null,null!=this.searchBean.userId&&""===this.searchBean.userId&&(this.searchBean.userId=null),null!=this.searchBean.username&&""===this.searchBean.username&&(this.searchBean.username=null),null!=this.searchBean.levelNum&&""===this.searchBean.levelNum&&(this.searchBean.levelNum=null),this.$store.dispatch("memberManage/searchListData",this.searchBean).then((function(){e.listData=e.$store.state.memberManage.listData,e.pageCount=Math.ceil(e.$store.state.memberManage.countData/e.searchBean.limit);var a=e;a.$myLoading.myLoading.closeLoading()}))},dateFormat:function(e,a){var t,r={"Y+":a.getFullYear().toString(),"m+":(a.getMonth()+1).toString(),"d+":a.getDate().toString(),"H+":a.getHours().toString(),"M+":a.getMinutes().toString(),"S+":a.getSeconds().toString()};for(var l in r)t=new RegExp("("+l+")").exec(e),t&&(e=e.replace(t[1],1===t[1].length?r[l]:r[l].padStart(t[1].length,"0")));return e},handlePage:function(e){if(this.searchBean.listNumber+e<1||this.searchBean.listNumber+e>this.pageCount)return!1;this.searchBean.listNumber=this.searchBean.listNumber+e,this.searchBean.offset=(this.searchBean.listNumber-1)*this.searchBean.limit,this.searchDate()},showBasicData:function(e){var a=this;this.$store.dispatch("memberManage/searchDetailData",{userId:e.userId}).then((function(){a.memberInfoParam=a.$store.state.memberManage.detailData,a.memberInfoDialog=!0}))},saveMemberInfo:function(){var e=this;null!=this.memberInfoParam.levelNum&&""===this.memberInfoParam.levelNum&&(this.memberInfoParam.levelNum=null),null!=this.memberInfoParam.phone&&""===this.memberInfoParam.phone&&(this.memberInfoParam.phone=null),null!=this.memberInfoParam.email&&""===this.memberInfoParam.email&&(this.memberInfoParam.email=null),null!=this.memberInfoParam.levelNum&&""===this.memberInfoParam.levelNum&&(this.memberInfoParam.levelNum=null),null!=this.memberInfoParam.levelNum&&""===this.memberInfoParam.levelNum&&(this.memberInfoParam.levelNum=null),null!=this.memberInfoParam.block&&(this.memberInfoParam.isBlock=this.memberInfoParam.block),this.$store.dispatch("memberManage/updateBasic",this.memberInfoParam).then((function(){var a=e.$store.state.memberManage.updateBasicStatus;null!=a&&0===a?(e.$message({type:"success",message:"操作成功"}),e.searchDate(),e.memberInfoDialog=!1):e.$message({type:"error",message:"操作失败"})}))},showAddressDetail:function(e){var a=this;this.$store.dispatch("memberManage/getAddressList",{userId:e.userId}).then((function(){a.addressParam=a.$store.state.memberManage.addressData,a.addressDialog=!0}))},showBalance:function(e){var a=this;this.resetForm("balanceRef"),this.$store.dispatch("memberManage/searchDetailData",{userId:e.userId}).then((function(){a.balanceParam=a.$store.state.memberManage.detailData,a.balanceParam.amount=0,a.balanceDialog=!0}))},saveBalance:function(){var e=this;this.$refs.balanceRef.validate((function(a){a&&e.$store.dispatch("memberManage/updateBalance",e.balanceParam).then((function(){var a=e.$store.state.memberManage.updateBalanceStatus;null!=a&&0===a?(e.$message({type:"success",message:"操作成功"}),e.searchDate(),e.balanceDialog=!1):e.$message({type:"error",message:"操作失败"})}))}))},showCmmission:function(e){var a=this;this.resetForm("cmmissioneRef"),this.$store.dispatch("memberManage/searchDetailData",{userId:e.userId}).then((function(){a.cmmissionParam=a.$store.state.memberManage.detailData,a.cmmissionDialog=!0}))},saveCmmission:function(){var e=this;this.$refs.cmmissioneRef.validate((function(a){a&&e.$store.dispatch("memberManage/updateCmmission",e.cmmissionParam).then((function(){var a=e.$store.state.memberManage.updateCmmissionStatus;null!=a&&0===a?(e.$message({type:"success",message:"操作成功"}),e.searchDate(),e.cmmissionDialog=!1):e.$message({type:"error",message:"操作失败"})}))}))},resetForm:function(e){null!=this.$refs[e]&&this.$refs[e].resetFields()}}}),n=s,i=(t("b965"),t("2877")),o=Object(i["a"])(n,r,l,!1,null,null,null);a["default"]=o.exports},b965:function(e,a,t){"use strict";t("210d")}}]);